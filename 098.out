QA output created by 098
create file foo
file_contents
should be no EAs for foo:
set EA <noise,woof>:
Attribute "noise" set to a 4 byte value for foo:
woof
set EA <colour,blue>:
Attribute "colour" set to a 4 byte value for foo:
blue
set EA <size,small>:
Attribute "size" set to a 5 byte value for foo:
small
list the EAs for foo: noise, colour, size
Attribute "noise" has a 4 byte value for foo
Attribute "colour" has a 4 byte value for foo
Attribute "size" has a 5 byte value for foo
check the list again for foo
Attribute "noise" has a 4 byte value for foo
Attribute "colour" has a 4 byte value for foo
Attribute "size" has a 5 byte value for foo
unmount the FS and see if EAs are persistent
    <file_entry name="/">
        <desc_tag name="tag">
            <id val="261" />
            <descriptor_ver val="3" />
            <reserved val="0" />
            <serial_num val="0" />
        </desc_tag>
        <icb_tag name="icbtag">
            <prev_num_dirs val="0" />
            <strat_type val="4" />
            <strat_param val="0x0 0x0" />
            <max_num_entries val="1" />
            <reserved val="0x0" />
            <file_type val="4" />
            <lb_addr name="parent_icb">
                <part_num val="0" />
            </lb_addr>
            <flags val="0" />
        </icb_tag>
        <uid val="0" />
        <gid val="0" />
        <perm val="0x3CA5" />
        <link_cnt val="1" />
        <rec_format val="0" />
        <rec_disp_attr val="0" />
        <rec_len val="0" />
        <inf_len val="84" />
        <logblks_rec val="1" />
        <ckpoint val="1" />
        <long_ad name="ex_attr_icb">
            <len val="0" />
            <lb_addr name="loc">
                <part_num val="0" />
            </lb_addr>
            <ad_flags val="0" />
            <ad_id val="0" />
        </long_ad>
        <regid name="imp_id">
            <flags val="0" />
            <id val="*Silicon Graphics, Inc." />
            <id_suffix val="" />
        </regid>
        <unique_id val="0" />
        <l_ea val="0" />
        <l_ad val="8" />
        <short_ad name="ads.sht">
            <len val="84" />
        </short_ad>
        <fileid_desc>
            <desc_tag name="tag">
                <id val="257" />
                <descriptor_ver val="3" />
                <reserved val="0" />
                <serial_num val="0" />
            </desc_tag>
            <file_num val="1" />
            <file_char val="10" char=".Parent.Dir." />
            <l_fi val="0" />
            <long_ad name="icb">
                <len val="2048" />
                <lb_addr name="loc">
                    <part_num val="0" />
                </lb_addr>
                <ad_flags val="0" />
                <ad_id val="0" />
            </long_ad>
            <l_iu val="0" />
            <file_id name="" />
        </fileid_desc>
        <fileid_desc>
            <desc_tag name="tag">
                <id val="257" />
                <descriptor_ver val="3" />
                <reserved val="0" />
                <serial_num val="0" />
            </desc_tag>
            <file_num val="1" />
            <file_char val="0" char="....." />
            <l_fi val="4" />
            <long_ad name="icb">
                <len val="2048" />
                <lb_addr name="loc">
                    <part_num val="0" />
                </lb_addr>
                <ad_flags val="0" />
                <ad_id val="16" />
            </long_ad>
            <l_iu val="0" />
            <file_id name="foo" comp_id="8" />
            <extended_file_entry name="foo" comp_id="8">
                <desc_tag name="tag">
                    <id val="266" />
                    <descriptor_ver val="3" />
                    <reserved val="0" />
                    <serial_num val="0" />
                </desc_tag>
                <icb_tag name="icbtag">
                    <prev_num_dirs val="0" />
                    <strat_type val="4" />
                    <strat_param val="0x0 0x0" />
                    <max_num_entries val="1" />
                    <reserved val="0x0" />
                    <file_type val="5" />
                    <lb_addr name="parent_icb">
                        <part_num val="0" />
                    </lb_addr>
                    <flags val="0" />
                </icb_tag>
                <uid val="0" />
                <gid val="0" />
                <perm val="0x1884" />
                <link_cnt val="2" />
                <rec_format val="0" />
                <rec_disp_attr val="0" />
                <rec_len val="0" />
                <inf_len val="14" />
                <obj_size val="27" />
                <logblks_rec val="1" />
                <ckpoint val="1" />
                <long_ad name="ex_attr_icb">
                    <len val="0" />
                    <lb_addr name="loc">
                        <part_num val="0" />
                    </lb_addr>
                    <ad_flags val="0" />
                    <ad_id val="0" />
                </long_ad>
                <long_ad name="streamdir_icb">
                    <len val="2048" />
                    <lb_addr name="loc">
                        <part_num val="0" />
                    </lb_addr>
                    <ad_flags val="0" />
                    <ad_id val="16" />
                </long_ad>
                <regid name="imp_id">
                    <flags val="0" />
                    <id val="*Silicon Graphics, Inc" />
                    <id_suffix val="" />
                </regid>
                <unique_id val="16" />
                <l_ea val="0" />
                <l_ad val="8" />
                <short_ad name="ads.sht">
                    <len val="14" />
                </short_ad>
                <stream_directory>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="8" char=".Parent..." />
                        <l_fi val="0" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="" />
                    </fileid_desc>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="0" char="....." />
                        <l_fi val="6" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="noise" comp_id="8" />
                        <file_entry name="noise" comp_id="8">
                            <desc_tag name="tag">
                                <id val="261" />
                                <descriptor_ver val="3" />
                                <reserved val="0" />
                                <serial_num val="0" />
                            </desc_tag>
                            <icb_tag name="icbtag">
                                <prev_num_dirs val="0" />
                                <strat_type val="4" />
                                <strat_param val="0x0 0x0" />
                                <max_num_entries val="1" />
                                <reserved val="0x0" />
                                <file_type val="5" />
                                <lb_addr name="parent_icb">
                                    <part_num val="0" />
                                </lb_addr>
                                <flags val="8192" />
                            </icb_tag>
                            <uid val="0" />
                            <gid val="0" />
                            <perm val="0x1884" />
                            <link_cnt val="1" />
                            <rec_format val="0" />
                            <rec_disp_attr val="0" />
                            <rec_len val="0" />
                            <inf_len val="4" />
                            <logblks_rec val="1" />
                            <ckpoint val="1" />
                            <long_ad name="ex_attr_icb">
                                <len val="0" />
                                <lb_addr name="loc">
                                    <part_num val="0" />
                                </lb_addr>
                                <ad_flags val="0" />
                                <ad_id val="0" />
                            </long_ad>
                            <regid name="imp_id">
                                <flags val="0" />
                                <id val="*Silicon Graphics, Inc" />
                                <id_suffix val="" />
                            </regid>
                            <unique_id val="16" />
                            <l_ea val="0" />
                            <l_ad val="8" />
                            <short_ad name="ads.sht">
                                <len val="4" />
                            </short_ad>
                            <file_content>
                                77 6F 6F 66 
                            </file_content>
                        </file_entry>
                    </fileid_desc>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="0" char="....." />
                        <l_fi val="7" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="colour" comp_id="8" />
                        <file_entry name="colour" comp_id="8">
                            <desc_tag name="tag">
                                <id val="261" />
                                <descriptor_ver val="3" />
                                <reserved val="0" />
                                <serial_num val="0" />
                            </desc_tag>
                            <icb_tag name="icbtag">
                                <prev_num_dirs val="0" />
                                <strat_type val="4" />
                                <strat_param val="0x0 0x0" />
                                <max_num_entries val="1" />
                                <reserved val="0x0" />
                                <file_type val="5" />
                                <lb_addr name="parent_icb">
                                    <part_num val="0" />
                                </lb_addr>
                                <flags val="8192" />
                            </icb_tag>
                            <uid val="0" />
                            <gid val="0" />
                            <perm val="0x1884" />
                            <link_cnt val="1" />
                            <rec_format val="0" />
                            <rec_disp_attr val="0" />
                            <rec_len val="0" />
                            <inf_len val="4" />
                            <logblks_rec val="1" />
                            <ckpoint val="1" />
                            <long_ad name="ex_attr_icb">
                                <len val="0" />
                                <lb_addr name="loc">
                                    <part_num val="0" />
                                </lb_addr>
                                <ad_flags val="0" />
                                <ad_id val="0" />
                            </long_ad>
                            <regid name="imp_id">
                                <flags val="0" />
                                <id val="*Silicon Graphics, Inc" />
                                <id_suffix val="" />
                            </regid>
                            <unique_id val="16" />
                            <l_ea val="0" />
                            <l_ad val="8" />
                            <short_ad name="ads.sht">
                                <len val="4" />
                            </short_ad>
                            <file_content>
                                62 6C 75 65 
                            </file_content>
                        </file_entry>
                    </fileid_desc>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="0" char="....." />
                        <l_fi val="5" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="size" comp_id="8" />
                        <file_entry name="size" comp_id="8">
                            <desc_tag name="tag">
                                <id val="261" />
                                <descriptor_ver val="3" />
                                <reserved val="0" />
                                <serial_num val="0" />
                            </desc_tag>
                            <icb_tag name="icbtag">
                                <prev_num_dirs val="0" />
                                <strat_type val="4" />
                                <strat_param val="0x0 0x0" />
                                <max_num_entries val="1" />
                                <reserved val="0x0" />
                                <file_type val="5" />
                                <lb_addr name="parent_icb">
                                    <part_num val="0" />
                                </lb_addr>
                                <flags val="8192" />
                            </icb_tag>
                            <uid val="0" />
                            <gid val="0" />
                            <perm val="0x1884" />
                            <link_cnt val="1" />
                            <rec_format val="0" />
                            <rec_disp_attr val="0" />
                            <rec_len val="0" />
                            <inf_len val="5" />
                            <logblks_rec val="1" />
                            <ckpoint val="1" />
                            <long_ad name="ex_attr_icb">
                                <len val="0" />
                                <lb_addr name="loc">
                                    <part_num val="0" />
                                </lb_addr>
                                <ad_flags val="0" />
                                <ad_id val="0" />
                            </long_ad>
                            <regid name="imp_id">
                                <flags val="0" />
                                <id val="*Silicon Graphics, Inc" />
                                <id_suffix val="" />
                            </regid>
                            <unique_id val="16" />
                            <l_ea val="0" />
                            <l_ad val="8" />
                            <short_ad name="ads.sht">
                                <len val="5" />
                            </short_ad>
                            <file_content>
                                73 6D 6C 6C 
                            </file_content>
                        </file_entry>
                    </fileid_desc>
                </stream_directory>
                <file_content>
                    66 69 6C 65 5F 63 6F 6E 74 65 6E 74 73 A 
                </file_content>
            </extended_file_entry>
        </fileid_desc>
    </file_entry>
</udf>
check the list again for foo after umount/mount
Attribute "noise" has a 4 byte value for foo
Attribute "colour" has a 4 byte value for foo
Attribute "size" has a 5 byte value for foo
get the value of the noise EA
Attribute "noise" had a 4 byte value for foo:
woof
get the value of the colour EA which was removed earlier
Attribute "colour" had a 4 byte value for foo:
blue
get the value of the size EA
Attribute "size" had a 5 byte value for foo:
small
remove the colour EA on foo
list EAs for foo: noise, size
Attribute "noise" has a 4 byte value for foo
Attribute "size" has a 5 byte value for foo
get the value of the noise EA
Attribute "noise" had a 4 byte value for foo:
woof
get the value of the colour EA which was removed earlier
attr_get: Attribute not found
Could not get "colour" for foo
get the value of the size EA
Attribute "size" had a 5 byte value for foo:
small
list all the EAs again: noise, size
Attribute "noise" has a 4 byte value for foo
Attribute "size" has a 5 byte value for foo
change the value of the size EA from small to huge
Attribute "size" set to a 4 byte value for foo:
huge
get the size EA which should now have value huge
Attribute "size" had a 4 byte value for foo:
huge
list EAs: noise, size
Attribute "noise" has a 4 byte value for foo
Attribute "size" has a 4 byte value for foo
remove the size EA from foo
list EAs: noise (size EA has been removed)
Attribute "noise" has a 4 byte value for foo
get the noise EA: woof
Attribute "noise" had a 4 byte value for foo:
woof
try removing non-existent EA named woof
attr_remove: Attribute not found
Could not remove "woof" for foo
try removing already removed EA size
attr_remove: Attribute not found
Could not remove "size" for foo
list EAs: noise
Attribute "noise" has a 4 byte value for foo
try removing already removed EA colour
attr_remove: Attribute not found
Could not remove "colour" for foo
list EAs: noise
Attribute "noise" has a 4 byte value for foo
remove remaining EA noise
list EAs: should be no EAs left now
unmount the FS and see if EAs are persistent
    <file_entry name="/">
        <desc_tag name="tag">
            <id val="261" />
            <descriptor_ver val="3" />
            <reserved val="0" />
            <serial_num val="0" />
        </desc_tag>
        <icb_tag name="icbtag">
            <prev_num_dirs val="0" />
            <strat_type val="4" />
            <strat_param val="0x0 0x0" />
            <max_num_entries val="1" />
            <reserved val="0x0" />
            <file_type val="4" />
            <lb_addr name="parent_icb">
                <part_num val="0" />
            </lb_addr>
            <flags val="0" />
        </icb_tag>
        <uid val="0" />
        <gid val="0" />
        <perm val="0x3CA5" />
        <link_cnt val="1" />
        <rec_format val="0" />
        <rec_disp_attr val="0" />
        <rec_len val="0" />
        <inf_len val="84" />
        <logblks_rec val="1" />
        <ckpoint val="1" />
        <long_ad name="ex_attr_icb">
            <len val="0" />
            <lb_addr name="loc">
                <part_num val="0" />
            </lb_addr>
            <ad_flags val="0" />
            <ad_id val="0" />
        </long_ad>
        <regid name="imp_id">
            <flags val="0" />
            <id val="*Silicon Graphics, Inc." />
            <id_suffix val="" />
        </regid>
        <unique_id val="0" />
        <l_ea val="0" />
        <l_ad val="8" />
        <short_ad name="ads.sht">
            <len val="84" />
        </short_ad>
        <fileid_desc>
            <desc_tag name="tag">
                <id val="257" />
                <descriptor_ver val="3" />
                <reserved val="0" />
                <serial_num val="0" />
            </desc_tag>
            <file_num val="1" />
            <file_char val="10" char=".Parent.Dir." />
            <l_fi val="0" />
            <long_ad name="icb">
                <len val="2048" />
                <lb_addr name="loc">
                    <part_num val="0" />
                </lb_addr>
                <ad_flags val="0" />
                <ad_id val="0" />
            </long_ad>
            <l_iu val="0" />
            <file_id name="" />
        </fileid_desc>
        <fileid_desc>
            <desc_tag name="tag">
                <id val="257" />
                <descriptor_ver val="3" />
                <reserved val="0" />
                <serial_num val="0" />
            </desc_tag>
            <file_num val="1" />
            <file_char val="0" char="....." />
            <l_fi val="4" />
            <long_ad name="icb">
                <len val="2048" />
                <lb_addr name="loc">
                    <part_num val="0" />
                </lb_addr>
                <ad_flags val="0" />
                <ad_id val="16" />
            </long_ad>
            <l_iu val="0" />
            <file_id name="foo" comp_id="8" />
            <file_entry name="foo" comp_id="8">
                <desc_tag name="tag">
                    <id val="261" />
                    <descriptor_ver val="3" />
                    <reserved val="0" />
                    <serial_num val="0" />
                </desc_tag>
                <icb_tag name="icbtag">
                    <prev_num_dirs val="0" />
                    <strat_type val="4" />
                    <strat_param val="0x0 0x0" />
                    <max_num_entries val="1" />
                    <reserved val="0x0" />
                    <file_type val="5" />
                    <lb_addr name="parent_icb">
                        <part_num val="0" />
                    </lb_addr>
                    <flags val="0" />
                </icb_tag>
                <uid val="0" />
                <gid val="0" />
                <perm val="0x1884" />
                <link_cnt val="1" />
                <rec_format val="0" />
                <rec_disp_attr val="0" />
                <rec_len val="0" />
                <inf_len val="14" />
                <logblks_rec val="1" />
                <ckpoint val="1" />
                <long_ad name="ex_attr_icb">
                    <len val="0" />
                    <lb_addr name="loc">
                        <part_num val="0" />
                    </lb_addr>
                    <ad_flags val="0" />
                    <ad_id val="0" />
                </long_ad>
                <regid name="imp_id">
                    <flags val="0" />
                    <id val="*Silicon Graphics, Inc" />
                    <id_suffix val="" />
                </regid>
                <unique_id val="16" />
                <l_ea val="0" />
                <l_ad val="8" />
                <short_ad name="ads.sht">
                    <len val="14" />
                </short_ad>
                <file_content>
                    66 69 6C 65 5F 63 6F 6E 74 65 6E 74 73 A 
                </file_content>
            </file_entry>
        </fileid_desc>
    </file_entry>
</udf>
list EAs: should still be no EAs left

*** Test out the root namespace ***

set EA <root:colour,marone>:
Attribute "colour" set to a 6 byte value for foo:
marone
set EA <user:colour,beige>:
Attribute "colour" set to a 5 byte value for foo:
beige
set EA <user:vomit,pizza>:
Attribute "vomit" set to a 5 byte value for foo:
pizza
set EA <root:noise,whack>:
Attribute "noise" set to a 5 byte value for foo:
whack
list root EAs: <root:colour,noise>:
Attribute "colour" has a 6 byte value for foo
Attribute "noise" has a 5 byte value for foo
list user EAs: <user:colour,vomit>:
Attribute "colour" has a 5 byte value for foo
Attribute "vomit" has a 5 byte value for foo
get root EA colour: marone
Attribute "colour" had a 6 byte value for foo:
marone
get root EA noise: whack
Attribute "noise" had a 5 byte value for foo:
whack
get root EA vomit which is a user EA => find nothing
attr_get: Attribute not found
Could not get "vomit" for foo

unmount the FS and see if EAs are persistent

    <file_entry name="/">
        <desc_tag name="tag">
            <id val="261" />
            <descriptor_ver val="3" />
            <reserved val="0" />
            <serial_num val="0" />
        </desc_tag>
        <icb_tag name="icbtag">
            <prev_num_dirs val="0" />
            <strat_type val="4" />
            <strat_param val="0x0 0x0" />
            <max_num_entries val="1" />
            <reserved val="0x0" />
            <file_type val="4" />
            <lb_addr name="parent_icb">
                <part_num val="0" />
            </lb_addr>
            <flags val="0" />
        </icb_tag>
        <uid val="0" />
        <gid val="0" />
        <perm val="0x3CA5" />
        <link_cnt val="1" />
        <rec_format val="0" />
        <rec_disp_attr val="0" />
        <rec_len val="0" />
        <inf_len val="84" />
        <logblks_rec val="1" />
        <ckpoint val="1" />
        <long_ad name="ex_attr_icb">
            <len val="0" />
            <lb_addr name="loc">
                <part_num val="0" />
            </lb_addr>
            <ad_flags val="0" />
            <ad_id val="0" />
        </long_ad>
        <regid name="imp_id">
            <flags val="0" />
            <id val="*Silicon Graphics, Inc." />
            <id_suffix val="" />
        </regid>
        <unique_id val="0" />
        <l_ea val="0" />
        <l_ad val="8" />
        <short_ad name="ads.sht">
            <len val="84" />
        </short_ad>
        <fileid_desc>
            <desc_tag name="tag">
                <id val="257" />
                <descriptor_ver val="3" />
                <reserved val="0" />
                <serial_num val="0" />
            </desc_tag>
            <file_num val="1" />
            <file_char val="10" char=".Parent.Dir." />
            <l_fi val="0" />
            <long_ad name="icb">
                <len val="2048" />
                <lb_addr name="loc">
                    <part_num val="0" />
                </lb_addr>
                <ad_flags val="0" />
                <ad_id val="0" />
            </long_ad>
            <l_iu val="0" />
            <file_id name="" />
        </fileid_desc>
        <fileid_desc>
            <desc_tag name="tag">
                <id val="257" />
                <descriptor_ver val="3" />
                <reserved val="0" />
                <serial_num val="0" />
            </desc_tag>
            <file_num val="1" />
            <file_char val="0" char="....." />
            <l_fi val="4" />
            <long_ad name="icb">
                <len val="2048" />
                <lb_addr name="loc">
                    <part_num val="0" />
                </lb_addr>
                <ad_flags val="0" />
                <ad_id val="16" />
            </long_ad>
            <l_iu val="0" />
            <file_id name="foo" comp_id="8" />
            <extended_file_entry name="foo" comp_id="8">
                <desc_tag name="tag">
                    <id val="266" />
                    <descriptor_ver val="3" />
                    <reserved val="0" />
                    <serial_num val="0" />
                </desc_tag>
                <icb_tag name="icbtag">
                    <prev_num_dirs val="0" />
                    <strat_type val="4" />
                    <strat_param val="0x0 0x0" />
                    <max_num_entries val="1" />
                    <reserved val="0x0" />
                    <file_type val="5" />
                    <lb_addr name="parent_icb">
                        <part_num val="0" />
                    </lb_addr>
                    <flags val="0" />
                </icb_tag>
                <uid val="0" />
                <gid val="0" />
                <perm val="0x1884" />
                <link_cnt val="2" />
                <rec_format val="0" />
                <rec_disp_attr val="0" />
                <rec_len val="0" />
                <inf_len val="14" />
                <obj_size val="35" />
                <logblks_rec val="1" />
                <ckpoint val="1" />
                <long_ad name="ex_attr_icb">
                    <len val="0" />
                    <lb_addr name="loc">
                        <part_num val="0" />
                    </lb_addr>
                    <ad_flags val="0" />
                    <ad_id val="0" />
                </long_ad>
                <long_ad name="streamdir_icb">
                    <len val="2048" />
                    <lb_addr name="loc">
                        <part_num val="0" />
                    </lb_addr>
                    <ad_flags val="0" />
                    <ad_id val="16" />
                </long_ad>
                <regid name="imp_id">
                    <flags val="0" />
                    <id val="*Silicon Graphics, Inc" />
                    <id_suffix val="" />
                </regid>
                <unique_id val="16" />
                <l_ea val="0" />
                <l_ad val="8" />
                <short_ad name="ads.sht">
                    <len val="14" />
                </short_ad>
                <stream_directory>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="8" char=".Parent..." />
                        <l_fi val="0" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="" />
                    </fileid_desc>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="16" char="Meta...." />
                        <l_fi val="7" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="colour" comp_id="8" />
                        <file_entry name="colour" comp_id="8">
                            <desc_tag name="tag">
                                <id val="261" />
                                <descriptor_ver val="3" />
                                <reserved val="0" />
                                <serial_num val="0" />
                            </desc_tag>
                            <icb_tag name="icbtag">
                                <prev_num_dirs val="0" />
                                <strat_type val="4" />
                                <strat_param val="0x0 0x0" />
                                <max_num_entries val="1" />
                                <reserved val="0x0" />
                                <file_type val="5" />
                                <lb_addr name="parent_icb">
                                    <part_num val="0" />
                                </lb_addr>
                                <flags val="8192" />
                            </icb_tag>
                            <uid val="0" />
                            <gid val="0" />
                            <perm val="0x1884" />
                            <link_cnt val="1" />
                            <rec_format val="0" />
                            <rec_disp_attr val="0" />
                            <rec_len val="0" />
                            <inf_len val="6" />
                            <logblks_rec val="1" />
                            <ckpoint val="1" />
                            <long_ad name="ex_attr_icb">
                                <len val="0" />
                                <lb_addr name="loc">
                                    <part_num val="0" />
                                </lb_addr>
                                <ad_flags val="0" />
                                <ad_id val="0" />
                            </long_ad>
                            <regid name="imp_id">
                                <flags val="0" />
                                <id val="*Silicon Graphics, Inc" />
                                <id_suffix val="" />
                            </regid>
                            <unique_id val="16" />
                            <l_ea val="0" />
                            <l_ad val="8" />
                            <short_ad name="ads.sht">
                                <len val="6" />
                            </short_ad>
                            <file_content>
                                6D 61 72 6F 6E 65 
                            </file_content>
                        </file_entry>
                    </fileid_desc>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="0" char="....." />
                        <l_fi val="7" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="colour" comp_id="8" />
                        <file_entry name="colour" comp_id="8">
                            <desc_tag name="tag">
                                <id val="261" />
                                <descriptor_ver val="3" />
                                <reserved val="0" />
                                <serial_num val="0" />
                            </desc_tag>
                            <icb_tag name="icbtag">
                                <prev_num_dirs val="0" />
                                <strat_type val="4" />
                                <strat_param val="0x0 0x0" />
                                <max_num_entries val="1" />
                                <reserved val="0x0" />
                                <file_type val="5" />
                                <lb_addr name="parent_icb">
                                    <part_num val="0" />
                                </lb_addr>
                                <flags val="8192" />
                            </icb_tag>
                            <uid val="0" />
                            <gid val="0" />
                            <perm val="0x1884" />
                            <link_cnt val="1" />
                            <rec_format val="0" />
                            <rec_disp_attr val="0" />
                            <rec_len val="0" />
                            <inf_len val="5" />
                            <logblks_rec val="1" />
                            <ckpoint val="1" />
                            <long_ad name="ex_attr_icb">
                                <len val="0" />
                                <lb_addr name="loc">
                                    <part_num val="0" />
                                </lb_addr>
                                <ad_flags val="0" />
                                <ad_id val="0" />
                            </long_ad>
                            <regid name="imp_id">
                                <flags val="0" />
                                <id val="*Silicon Graphics, Inc" />
                                <id_suffix val="" />
                            </regid>
                            <unique_id val="16" />
                            <l_ea val="0" />
                            <l_ad val="8" />
                            <short_ad name="ads.sht">
                                <len val="5" />
                            </short_ad>
                            <file_content>
                                62 65 67 65 
                            </file_content>
                        </file_entry>
                    </fileid_desc>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="0" char="....." />
                        <l_fi val="6" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="vomit" comp_id="8" />
                        <file_entry name="vomit" comp_id="8">
                            <desc_tag name="tag">
                                <id val="261" />
                                <descriptor_ver val="3" />
                                <reserved val="0" />
                                <serial_num val="0" />
                            </desc_tag>
                            <icb_tag name="icbtag">
                                <prev_num_dirs val="0" />
                                <strat_type val="4" />
                                <strat_param val="0x0 0x0" />
                                <max_num_entries val="1" />
                                <reserved val="0x0" />
                                <file_type val="5" />
                                <lb_addr name="parent_icb">
                                    <part_num val="0" />
                                </lb_addr>
                                <flags val="8192" />
                            </icb_tag>
                            <uid val="0" />
                            <gid val="0" />
                            <perm val="0x1884" />
                            <link_cnt val="1" />
                            <rec_format val="0" />
                            <rec_disp_attr val="0" />
                            <rec_len val="0" />
                            <inf_len val="5" />
                            <logblks_rec val="1" />
                            <ckpoint val="1" />
                            <long_ad name="ex_attr_icb">
                                <len val="0" />
                                <lb_addr name="loc">
                                    <part_num val="0" />
                                </lb_addr>
                                <ad_flags val="0" />
                                <ad_id val="0" />
                            </long_ad>
                            <regid name="imp_id">
                                <flags val="0" />
                                <id val="*Silicon Graphics, Inc" />
                                <id_suffix val="" />
                            </regid>
                            <unique_id val="16" />
                            <l_ea val="0" />
                            <l_ad val="8" />
                            <short_ad name="ads.sht">
                                <len val="5" />
                            </short_ad>
                            <file_content>
                                70 69 7A 61 
                            </file_content>
                        </file_entry>
                    </fileid_desc>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="16" char="Meta...." />
                        <l_fi val="6" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="noise" comp_id="8" />
                        <file_entry name="noise" comp_id="8">
                            <desc_tag name="tag">
                                <id val="261" />
                                <descriptor_ver val="3" />
                                <reserved val="0" />
                                <serial_num val="0" />
                            </desc_tag>
                            <icb_tag name="icbtag">
                                <prev_num_dirs val="0" />
                                <strat_type val="4" />
                                <strat_param val="0x0 0x0" />
                                <max_num_entries val="1" />
                                <reserved val="0x0" />
                                <file_type val="5" />
                                <lb_addr name="parent_icb">
                                    <part_num val="0" />
                                </lb_addr>
                                <flags val="8192" />
                            </icb_tag>
                            <uid val="0" />
                            <gid val="0" />
                            <perm val="0x1884" />
                            <link_cnt val="1" />
                            <rec_format val="0" />
                            <rec_disp_attr val="0" />
                            <rec_len val="0" />
                            <inf_len val="5" />
                            <logblks_rec val="1" />
                            <ckpoint val="1" />
                            <long_ad name="ex_attr_icb">
                                <len val="0" />
                                <lb_addr name="loc">
                                    <part_num val="0" />
                                </lb_addr>
                                <ad_flags val="0" />
                                <ad_id val="0" />
                            </long_ad>
                            <regid name="imp_id">
                                <flags val="0" />
                                <id val="*Silicon Graphics, Inc" />
                                <id_suffix val="" />
                            </regid>
                            <unique_id val="16" />
                            <l_ea val="0" />
                            <l_ad val="8" />
                            <short_ad name="ads.sht">
                                <len val="5" />
                            </short_ad>
                            <file_content>
                                77 68 63 6B 
                            </file_content>
                        </file_entry>
                    </fileid_desc>
                </stream_directory>
                <file_content>
                    66 69 6C 65 5F 63 6F 6E 74 65 6E 74 73 A 
                </file_content>
            </extended_file_entry>
        </fileid_desc>
    </file_entry>
</udf>
get root EA colour: marone
Attribute "colour" had a 6 byte value for foo:
marone
get root EA noise: whack
Attribute "noise" had a 5 byte value for foo:
whack
get user EA vomit: pizza
Attribute "vomit" had a 5 byte value for foo:
pizza
remove the root colour EA
list root EAs: <root:noise>:
Attribute "noise" has a 5 byte value for foo
list user EAs: <user:colour,vomit>:
Attribute "colour" has a 5 byte value for foo
Attribute "vomit" has a 5 byte value for foo
remove the final root EA noise
list root EAs: none
    <file_entry name="/">
        <desc_tag name="tag">
            <id val="261" />
            <descriptor_ver val="3" />
            <reserved val="0" />
            <serial_num val="0" />
        </desc_tag>
        <icb_tag name="icbtag">
            <prev_num_dirs val="0" />
            <strat_type val="4" />
            <strat_param val="0x0 0x0" />
            <max_num_entries val="1" />
            <reserved val="0x0" />
            <file_type val="4" />
            <lb_addr name="parent_icb">
                <part_num val="0" />
            </lb_addr>
            <flags val="0" />
        </icb_tag>
        <uid val="0" />
        <gid val="0" />
        <perm val="0x3CA5" />
        <link_cnt val="1" />
        <rec_format val="0" />
        <rec_disp_attr val="0" />
        <rec_len val="0" />
        <inf_len val="84" />
        <logblks_rec val="1" />
        <ckpoint val="1" />
        <long_ad name="ex_attr_icb">
            <len val="0" />
            <lb_addr name="loc">
                <part_num val="0" />
            </lb_addr>
            <ad_flags val="0" />
            <ad_id val="0" />
        </long_ad>
        <regid name="imp_id">
            <flags val="0" />
            <id val="*Silicon Graphics, Inc." />
            <id_suffix val="" />
        </regid>
        <unique_id val="0" />
        <l_ea val="0" />
        <l_ad val="8" />
        <short_ad name="ads.sht">
            <len val="84" />
        </short_ad>
        <fileid_desc>
            <desc_tag name="tag">
                <id val="257" />
                <descriptor_ver val="3" />
                <reserved val="0" />
                <serial_num val="0" />
            </desc_tag>
            <file_num val="1" />
            <file_char val="10" char=".Parent.Dir." />
            <l_fi val="0" />
            <long_ad name="icb">
                <len val="2048" />
                <lb_addr name="loc">
                    <part_num val="0" />
                </lb_addr>
                <ad_flags val="0" />
                <ad_id val="0" />
            </long_ad>
            <l_iu val="0" />
            <file_id name="" />
        </fileid_desc>
        <fileid_desc>
            <desc_tag name="tag">
                <id val="257" />
                <descriptor_ver val="3" />
                <reserved val="0" />
                <serial_num val="0" />
            </desc_tag>
            <file_num val="1" />
            <file_char val="0" char="....." />
            <l_fi val="4" />
            <long_ad name="icb">
                <len val="2048" />
                <lb_addr name="loc">
                    <part_num val="0" />
                </lb_addr>
                <ad_flags val="0" />
                <ad_id val="16" />
            </long_ad>
            <l_iu val="0" />
            <file_id name="foo" comp_id="8" />
            <extended_file_entry name="foo" comp_id="8">
                <desc_tag name="tag">
                    <id val="266" />
                    <descriptor_ver val="3" />
                    <reserved val="0" />
                    <serial_num val="0" />
                </desc_tag>
                <icb_tag name="icbtag">
                    <prev_num_dirs val="0" />
                    <strat_type val="4" />
                    <strat_param val="0x0 0x0" />
                    <max_num_entries val="1" />
                    <reserved val="0x0" />
                    <file_type val="5" />
                    <lb_addr name="parent_icb">
                        <part_num val="0" />
                    </lb_addr>
                    <flags val="0" />
                </icb_tag>
                <uid val="0" />
                <gid val="0" />
                <perm val="0x1884" />
                <link_cnt val="2" />
                <rec_format val="0" />
                <rec_disp_attr val="0" />
                <rec_len val="0" />
                <inf_len val="14" />
                <obj_size val="24" />
                <logblks_rec val="1" />
                <ckpoint val="1" />
                <long_ad name="ex_attr_icb">
                    <len val="0" />
                    <lb_addr name="loc">
                        <part_num val="0" />
                    </lb_addr>
                    <ad_flags val="0" />
                    <ad_id val="0" />
                </long_ad>
                <long_ad name="streamdir_icb">
                    <len val="2048" />
                    <lb_addr name="loc">
                        <part_num val="0" />
                    </lb_addr>
                    <ad_flags val="0" />
                    <ad_id val="16" />
                </long_ad>
                <regid name="imp_id">
                    <flags val="0" />
                    <id val="*Silicon Graphics, Inc" />
                    <id_suffix val="" />
                </regid>
                <unique_id val="16" />
                <l_ea val="0" />
                <l_ad val="8" />
                <short_ad name="ads.sht">
                    <len val="14" />
                </short_ad>
                <stream_directory>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="8" char=".Parent..." />
                        <l_fi val="0" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="" />
                    </fileid_desc>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="20" char="Meta.Deleted.." />
                        <l_fi val="7" />
                        <long_ad name="icb">
                            <len val="0" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="0" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="colour" comp_id="254" />
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="0" char="....." />
                        <l_fi val="7" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="colour" comp_id="8" />
                        <file_entry name="colour" comp_id="8">
                            <desc_tag name="tag">
                                <id val="261" />
                                <descriptor_ver val="3" />
                                <reserved val="0" />
                                <serial_num val="0" />
                            </desc_tag>
                            <icb_tag name="icbtag">
                                <prev_num_dirs val="0" />
                                <strat_type val="4" />
                                <strat_param val="0x0 0x0" />
                                <max_num_entries val="1" />
                                <reserved val="0x0" />
                                <file_type val="5" />
                                <lb_addr name="parent_icb">
                                    <part_num val="0" />
                                </lb_addr>
                                <flags val="8192" />
                            </icb_tag>
                            <uid val="0" />
                            <gid val="0" />
                            <perm val="0x1884" />
                            <link_cnt val="1" />
                            <rec_format val="0" />
                            <rec_disp_attr val="0" />
                            <rec_len val="0" />
                            <inf_len val="5" />
                            <logblks_rec val="1" />
                            <ckpoint val="1" />
                            <long_ad name="ex_attr_icb">
                                <len val="0" />
                                <lb_addr name="loc">
                                    <part_num val="0" />
                                </lb_addr>
                                <ad_flags val="0" />
                                <ad_id val="0" />
                            </long_ad>
                            <regid name="imp_id">
                                <flags val="0" />
                                <id val="*Silicon Graphics, Inc" />
                                <id_suffix val="" />
                            </regid>
                            <unique_id val="16" />
                            <l_ea val="0" />
                            <l_ad val="8" />
                            <short_ad name="ads.sht">
                                <len val="5" />
                            </short_ad>
                            <file_content>
                                62 65 67 65 
                            </file_content>
                        </file_entry>
                    </fileid_desc>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="0" char="....." />
                        <l_fi val="6" />
                        <long_ad name="icb">
                            <len val="2048" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="16" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="vomit" comp_id="8" />
                        <file_entry name="vomit" comp_id="8">
                            <desc_tag name="tag">
                                <id val="261" />
                                <descriptor_ver val="3" />
                                <reserved val="0" />
                                <serial_num val="0" />
                            </desc_tag>
                            <icb_tag name="icbtag">
                                <prev_num_dirs val="0" />
                                <strat_type val="4" />
                                <strat_param val="0x0 0x0" />
                                <max_num_entries val="1" />
                                <reserved val="0x0" />
                                <file_type val="5" />
                                <lb_addr name="parent_icb">
                                    <part_num val="0" />
                                </lb_addr>
                                <flags val="8192" />
                            </icb_tag>
                            <uid val="0" />
                            <gid val="0" />
                            <perm val="0x1884" />
                            <link_cnt val="1" />
                            <rec_format val="0" />
                            <rec_disp_attr val="0" />
                            <rec_len val="0" />
                            <inf_len val="5" />
                            <logblks_rec val="1" />
                            <ckpoint val="1" />
                            <long_ad name="ex_attr_icb">
                                <len val="0" />
                                <lb_addr name="loc">
                                    <part_num val="0" />
                                </lb_addr>
                                <ad_flags val="0" />
                                <ad_id val="0" />
                            </long_ad>
                            <regid name="imp_id">
                                <flags val="0" />
                                <id val="*Silicon Graphics, Inc" />
                                <id_suffix val="" />
                            </regid>
                            <unique_id val="16" />
                            <l_ea val="0" />
                            <l_ad val="8" />
                            <short_ad name="ads.sht">
                                <len val="5" />
                            </short_ad>
                            <file_content>
                                70 69 7A 61 
                            </file_content>
                        </file_entry>
                    </fileid_desc>
                    <fileid_desc>
                        <desc_tag name="tag">
                            <id val="257" />
                            <descriptor_ver val="3" />
                            <reserved val="0" />
                            <serial_num val="0" />
                        </desc_tag>
                        <file_num val="1" />
                        <file_char val="20" char="Meta.Deleted.." />
                        <l_fi val="6" />
                        <long_ad name="icb">
                            <len val="0" />
                            <lb_addr name="loc">
                                <part_num val="0" />
                            </lb_addr>
                            <ad_flags val="0" />
                            <ad_id val="0" />
                        </long_ad>
                        <l_iu val="0" />
                        <file_id name="noise" comp_id="254" />
                </stream_directory>
                <file_content>
                    66 69 6C 65 5F 63 6F 6E 74 65 6E 74 73 A 
                </file_content>
            </extended_file_entry>
        </fileid_desc>
    </file_entry>
</udf>
delete the file foo - which will delete the associated streams
    <file_entry name="/">
        <desc_tag name="tag">
            <id val="261" />
            <descriptor_ver val="3" />
            <reserved val="0" />
            <serial_num val="0" />
        </desc_tag>
        <icb_tag name="icbtag">
            <prev_num_dirs val="0" />
            <strat_type val="4" />
            <strat_param val="0x0 0x0" />
            <max_num_entries val="1" />
            <reserved val="0x0" />
            <file_type val="4" />
            <lb_addr name="parent_icb">
                <part_num val="0" />
            </lb_addr>
            <flags val="0" />
        </icb_tag>
        <uid val="0" />
        <gid val="0" />
        <perm val="0x3CA5" />
        <link_cnt val="1" />
        <rec_format val="0" />
        <rec_disp_attr val="0" />
        <rec_len val="0" />
        <inf_len val="84" />
        <logblks_rec val="1" />
        <ckpoint val="1" />
        <long_ad name="ex_attr_icb">
            <len val="0" />
            <lb_addr name="loc">
                <part_num val="0" />
            </lb_addr>
            <ad_flags val="0" />
            <ad_id val="0" />
        </long_ad>
        <regid name="imp_id">
            <flags val="0" />
            <id val="*Silicon Graphics, Inc." />
            <id_suffix val="" />
        </regid>
        <unique_id val="0" />
        <l_ea val="0" />
        <l_ad val="8" />
        <short_ad name="ads.sht">
            <len val="84" />
        </short_ad>
        <fileid_desc>
            <desc_tag name="tag">
                <id val="257" />
                <descriptor_ver val="3" />
                <reserved val="0" />
                <serial_num val="0" />
            </desc_tag>
            <file_num val="1" />
            <file_char val="10" char=".Parent.Dir." />
            <l_fi val="0" />
            <long_ad name="icb">
                <len val="2048" />
                <lb_addr name="loc">
                    <part_num val="0" />
                </lb_addr>
                <ad_flags val="0" />
                <ad_id val="0" />
            </long_ad>
            <l_iu val="0" />
            <file_id name="" />
        </fileid_desc>
        <fileid_desc>
            <desc_tag name="tag">
                <id val="257" />
                <descriptor_ver val="3" />
                <reserved val="0" />
                <serial_num val="0" />
            </desc_tag>
            <file_num val="1" />
            <file_char val="4" char="..Deleted.." />
            <l_fi val="4" />
            <long_ad name="icb">
                <len val="0" />
                <lb_addr name="loc">
                    <part_num val="0" />
                </lb_addr>
                <ad_flags val="0" />
                <ad_id val="0" />
            </long_ad>
            <l_iu val="0" />
            <file_id name="foo" comp_id="254" />
    </file_entry>
</udf>
